name: iOS Release

on:
  pull_request:
    branches: [ develop ]
    paths:
      - 'lib/**'
  push:
    branches: [ feature/create ]
    paths:
      - 'lib/**'
  workflow_dispatch

jobs:
  build_and_deploy:
    runs-on: macOS-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v2
      - name: Setup Flutter
        uses: subosito/flutter-action@v1
        with:
          flutter-version: '2.8.1'
      - name: Update Flutter
        run: flutter upgrade
      - name: Install Dependencies
        run: flutter pub get
      - name: Install the Apple certificate and provisioning profile
        env:
          BUILD_CERTIFICATE_BASE64: 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
          P12_PASSWORD: 0
          BUILD_PROVISION_PROFILE_BASE64: MIIxOgYJKoZIhvcNAQcCoIIxKzCCMScCAQExCzAJBgUrDgMCGgUAMIIhRwYJKoZIhvcNAQcBoIIhOASCITQ8P3htbCB2ZXJzaW9uPSIxLjAiIGVuY29kaW5nPSJVVEYtOCI/Pgo8IURPQ1RZUEUgcGxpc3QgUFVCTElDICItLy9BcHBsZS8vRFREIFBMSVNUIDEuMC8vRU4iICJodHRwOi8vd3d3LmFwcGxlLmNvbS9EVERzL1Byb3BlcnR5TGlzdC0xLjAuZHRkIj4KPHBsaXN0IHZlcnNpb249IjEuMCI+CjxkaWN0PgoJPGtleT5BcHBJRE5hbWU8L2tleT4KCTxzdHJpbmc+Zmx1dHRlciBib2lsZXJwbGF0ZTwvc3RyaW5nPgoJPGtleT5BcHBsaWNhdGlvbklkZW50aWZpZXJQcmVmaXg8L2tleT4KCTxhcnJheT4KCTxzdHJpbmc+R1pHMlM0N1dITTwvc3RyaW5nPgoJPC9hcnJheT4KCTxrZXk+Q3JlYXRpb25EYXRlPC9rZXk+Cgk8ZGF0ZT4yMDIzLTA1LTA0VDA0OjU0OjI4WjwvZGF0ZT4KCTxrZXk+UGxhdGZvcm08L2tleT4KCTxhcnJheT4KCQk8c3RyaW5nPmlPUzwvc3RyaW5nPgoJPC9hcnJheT4KCTxrZXk+SXNYY29kZU1hbmFnZWQ8L2tleT4KCTxmYWxzZS8+Cgk8a2V5PkRldmVsb3BlckNlcnRpZmljYXRlczwva2V5PgoJPGFycmF5PgoJCTxkYXRhPk1JSUZ2ekNDQktlZ0F3SUJBZ0lRRU51Q0R6Wjk3UUFnL1lpU1VNbjh5VEFOQmdrcWhraUc5dzBCQVFzRkFEQjFNVVF3UWdZRFZRUURERHRCY0hCc1pTQlhiM0pzWkhkcFpHVWdSR1YyWld4dmNHVnlJRkpsYkdGMGFXOXVjeUJEWlhKMGFXWnBZMkYwYVc5dUlFRjFkR2h2Y21sMGVURUxNQWtHQTFVRUN3d0NSek14RXpBUkJnTlZCQW9NQ2tGd2NHeGxJRWx1WXk0eEN6QUpCZ05WQkFZVEFsVlRNQjRYRFRJek1EVXdOREF5TURRek1sb1hEVEkwTURVd016QXlNRFF6TVZvd2dZVXhHakFZQmdvSmtpYUprL0lzWkFFQkRBcEhXa2N5VXpRM1YwaE5NVEl3TUFZRFZRUUREQ2xCY0hCc1pTQkVhWE4wY21saWRYUnBiMjQ2SUZGcFlXNW5JRWQxSUNoSFdrY3lVelEzVjBoTktURVRNQkVHQTFVRUN3d0tSMXBITWxNME4xZElUVEVSTUE4R0ExVUVDZ3dJVVdsaGJtY2dSM1V4Q3pBSkJnTlZCQVlUQWxWVE1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBK0FOOUxKbzdWbUxDRHFuaTdnelh4NzEyRWp3cGFnNU9FVGpENHlFbzZrSXV0cmVPZjZmYXVvQ01GSktsNEhzeXRoZW1UdzBvTE8rS2w2eVM0cmVFSjJvYXlkcXB0VlRlZ3JETGJDYWkzUE4xamxwa0N5QVpseElaK1FZMGRGOExaaWRHbzVGVDlqbWp3a0FZaHFRbEFaSFg4bFZNR0h6K3NjNWk5K2N6NVNFblkvVW04TDVmNWJaY1JMeUtQYkVPeTQvTjlDU0pXQ291UzJpanVnSVhSaTdIRW5teDhyb1phNEcwOExIblRmRUpWTnlrbTQ1dTg2amdGcnZkV1d4T1ZVY0Z4MTJZSVEySEFKeDdtQ3BtaTlMOTluYVMxSHdtMGNwczVBd3JMOVRkRGR5Zld0cUZsL05XNjJTZUlmeXdFTXlhSWNpYTBMTHRpdXFtYTdVeW5RSURBUUFCbzRJQ09EQ0NBalF3REFZRFZSMFRBUUgvQkFJd0FEQWZCZ05WSFNNRUdEQVdnQlFKL3NBVmtQbXZaQXFTRXJrbUtHTU1sK3luc2pCd0JnZ3JCZ0VGQlFjQkFRUmtNR0l3TFFZSUt3WUJCUVVITUFLR0lXaDBkSEE2THk5alpYSjBjeTVoY0hCc1pTNWpiMjB2ZDNka2NtY3pMbVJsY2pBeEJnZ3JCZ0VGQlFjd0FZWWxhSFIwY0RvdkwyOWpjM0F1WVhCd2JHVXVZMjl0TDI5amMzQXdNeTEzZDJSeVp6TXdOVENDQVI0R0ExVWRJQVNDQVJVd2dnRVJNSUlCRFFZSktvWklodmRqWkFVQk1JSC9NSUhEQmdnckJnRUZCUWNDQWpDQnRneUJzMUpsYkdsaGJtTmxJRzl1SUhSb2FYTWdZMlZ5ZEdsbWFXTmhkR1VnWW5rZ1lXNTVJSEJoY25SNUlHRnpjM1Z0WlhNZ1lXTmpaWEIwWVc1alpTQnZaaUIwYUdVZ2RHaGxiaUJoY0hCc2FXTmhZbXhsSUhOMFlXNWtZWEprSUhSbGNtMXpJR0Z1WkNCamIyNWthWFJwYjI1eklHOW1JSFZ6WlN3Z1kyVnlkR2xtYVdOaGRHVWdjRzlzYVdONUlHRnVaQ0JqWlhKMGFXWnBZMkYwYVc5dUlIQnlZV04wYVdObElITjBZWFJsYldWdWRITXVNRGNHQ0NzR0FRVUZCd0lCRml0b2RIUndjem92TDNkM2R5NWhjSEJzWlM1amIyMHZZMlZ5ZEdsbWFXTmhkR1ZoZFhSb2IzSnBkSGt2TUJZR0ExVWRKUUVCL3dRTU1Bb0dDQ3NHQVFVRkJ3TURNQjBHQTFVZERnUVdCQlIrYTdqYW9sNCt2OGVXZElsYm5lY05NRUcxbERBT0JnTlZIUThCQWY4RUJBTUNCNEF3RXdZS0tvWklodmRqWkFZQkJ3RUIvd1FDQlFBd0V3WUtLb1pJaHZkalpBWUJCQUVCL3dRQ0JRQXdEUVlKS29aSWh2Y05BUUVMQlFBRGdnRUJBQklqYis4aURzc21KYXRRVjVCcWd1NUJKV1BuTE44b3NKSWIwdlNzRGtYQzhXWm5xTXdwNnlsYTdYVWVidE9MdGhPVXdocTJkSnZ3cEZiM3NFR3AwbTE3RnNiNmFGM1Y3SndFbGNGcmZrdXA4R0lrVkNtWmRVclM5ZjVQVytNMmFKeTBSOW01L3hndUswSmhFakl4UFVZR09xTWRrSXlpcVVpUnJicGtieVNLMGg5RkpJdG55aUlzbnRWbERjdFpzL2VPbTd2cE94Y3ZqbHlCVGliS3NVYXMyOTVBV0tDQ1pVVFBuOUNnbFR6K1VFMnBubGp6M1hzUkxoV2gvUGtoam9qdDlEOThBbXZUb2Y3L1lLaDk0aVU3ZG9kMnVrbjdpa1ZnMklsVHJ6NHhiS29NWTJ5eGNZdmRZZ3p1UE0zMDc0RS84RlJ5T0d2V3NtVFh5YTdsQUhRPTwvZGF0YT4KCTwvYXJyYXk+CgoJPGtleT5ERVItRW5jb2RlZC1Qcm9maWxlPC9rZXk+Cgk8ZGF0YT5NSUlOMndZSktvWklodmNOQVFjQ29JSU56RENDRGNnQ0FRRXhEekFOQmdsZ2hrZ0JaUU1FQWdFRkFEQ0NBNVVHQ1NxR1NJYjNEUUVIQWFDQ0E0WUVnZ09DTVlJRGZqQU1EQWRXWlhKemFXOXVBZ0VCTUJBTUNsUnBiV1ZVYjB4cGRtVUNBZ0ZzTUJFTUNGQnNZWFJtYjNKdE1BVU1BMmxQVXpBVERBNUpjMWhqYjJSbFRXRnVZV2RsWkFFQkFEQVVEQWhVWldGdFRtRnRaUXdJVVdsaGJtY2dSM1V3R0F3RVRtRnRaUXdRWm14MWRIUmxjbUZrYUc5amRHVnpkREFkREF4RGNtVmhkR2x2YmtSaGRHVVhEVEl6TURVd05EQTBOVFF5T0Zvd0hnd09WR1ZoYlVsa1pXNTBhV1pwWlhJd0RBd0tSMXBITWxNME4xZElUVEFmREE1RmVIQnBjbUYwYVc5dVJHRjBaUmNOTWpRd05UQXpNREl3TkRNeFdqQWdEQWxCY0hCSlJFNWhiV1VNRTJac2RYUjBaWElnWW05cGJHVnljR3hoZEdVd0lBd1hVSEp2Wm1sc1pVUnBjM1J5YVdKMWRHbHZibFI1Y0dVTUJVRkVTRTlETUNzTUcwRndjR3hwWTJGMGFXOXVTV1JsYm5ScFptbGxjbEJ5WldacGVEQU1EQXBIV2tjeVV6UTNWMGhOTUN3TUJGVlZTVVFNSkRnMk5EbGpOVE16TFdGbE56a3ROR1U1TVMwNE5UUmxMVFV4WVdJNU1Ea3laalF5TmpBN0RCVkVaWFpsYkc5d1pYSkRaWEowYVdacFkyRjBaWE13SWdRZ0JNb1R5NmVLM2Y5cDFZZVRnbm1QTnQrQXdGQmcxN2RVbzl3d0NZeXNYNWd3UUF3U1VISnZkbWx6YVc5dVpXUkVaWFpwWTJWek1Db01LRE15WlRsalpXSmtaVGhsWmpReE1XWXlPRFJpTkRFMFpXVXlOemhpT0dVNU9HVTNaRGRoT1dFd2dnR0VEQXhGYm5ScGRHeGxiV1Z1ZEhOd2dnRnlBZ0VCc0lJQmF6QlFEQlpoY0hCc2FXTmhkR2x2YmkxcFpHVnVkR2xtYVdWeUREWkhXa2N5VXpRM1YwaE5MbU52YlM1bGVHRnRjR3hsTG1ac2RYUjBaWEpDYjJsc1pYSndiR0YwWlVGd2NFWnZjbFJsYzNRd01ERXdLd3dtWTI5dExtRndjR3hsTG1SbGRtVnNiM0JsY2k1aGMzTnZZMmxoZEdWa0xXUnZiV0ZwYm5NTUFTb3dMUXdvWTI5dExtRndjR3hsTG1SbGRtVnNiM0JsY2k1dVpYUjNiM0pyYVc1bkxuZHBabWt0YVc1bWJ3RUIvekF4RENOamIyMHVZWEJ3YkdVdVpHVjJaV3h2Y0dWeUxuUmxZVzB0YVdSbGJuUnBabWxsY2d3S1IxcEhNbE0wTjFkSVRUQTRERE5qYjIwdVlYQndiR1V1WkdWMlpXeHZjR1Z5TG5WelpYSnViM1JwWm1sallYUnBiMjV6TG1OdmJXMTFibWxqWVhScGIyNEJBZjh3RXd3T1oyVjBMWFJoYzJzdFlXeHNiM2NCQVFBd09Rd1dhMlY1WTJoaGFXNHRZV05qWlhOekxXZHliM1Z3Y3pBZkRBeEhXa2N5VXpRM1YwaE5MaW9NRDJOdmJTNWhjSEJzWlM1MGIydGxicUNDQ0R3d2dnSkRNSUlCeWFBREFnRUNBZ2d0eGZ5STBzVkxsVEFLQmdncWhrak9QUVFEQXpCbk1Sc3dHUVlEVlFRRERCSkJjSEJzWlNCU2IyOTBJRU5CSUMwZ1J6TXhKakFrQmdOVkJBc01IVUZ3Y0d4bElFTmxjblJwWm1sallYUnBiMjRnUVhWMGFHOXlhWFI1TVJNd0VRWURWUVFLREFwQmNIQnNaU0JKYm1NdU1Rc3dDUVlEVlFRR0V3SlZVekFlRncweE5EQTBNekF4T0RFNU1EWmFGdzB6T1RBME16QXhPREU1TURaYU1HY3hHekFaQmdOVkJBTU1Fa0Z3Y0d4bElGSnZiM1FnUTBFZ0xTQkhNekVtTUNRR0ExVUVDd3dkUVhCd2JHVWdRMlZ5ZEdsbWFXTmhkR2x2YmlCQmRYUm9iM0pwZEhreEV6QVJCZ05WQkFvTUNrRndjR3hsSUVsdVl5NHhDekFKQmdOVkJBWVRBbFZUTUhZd0VBWUhLb1pJemowQ0FRWUZLNEVFQUNJRFlnQUVtT2t2UFVCeXBPMlRJbktCRXh6ZEVKWHh4YU5PY2R3VUZ0a081YVlGS25ka2UxOU9PTk83SEVTMWYvVWZ0akppWGNucGhGdFBNRThSV2dEOVdGZ01wZlVQTEUwSFJ4TjEycGVYbDI4eFhPMHJuWHNnTzlpNVZObGVtYVE2VVFveG8wSXdRREFkQmdOVkhRNEVGZ1FVdTdEZW9WZ3ppSnFraXBuZXZyM3JyOXJMSktzd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBT0JnTlZIUThCQWY4RUJBTUNBUVl3Q2dZSUtvWkl6ajBFQXdNRGFBQXdaUUl4QUlQcHdjUVdYaHBkTkJqWjdlLzBiQTRBUmt1NDM3SkdFY1VQL2VaNmpLR21hODdDQTlTYzlaUEdkTGhxMzZvakZRSXdiV2FLRU1yVURkUlB6WTFEUHJTS1k2VXpidU50MmhlM1pCL0lVeWI1aUdKME9Rc1hXOHRScUF6b0dBUG5vcklvTUlJQzVqQ0NBbTJnQXdJQkFnSUlNdzN1K0w5TWFDNHdDZ1lJS29aSXpqMEVBd013WnpFYk1Ca0dBMVVFQXd3U1FYQndiR1VnVW05dmRDQkRRU0F0SUVjek1TWXdKQVlEVlFRTERCMUJjSEJzWlNCRFpYSjBhV1pwWTJGMGFXOXVJRUYxZEdodmNtbDBlVEVUTUJFR0ExVUVDZ3dLUVhCd2JHVWdTVzVqTGpFTE1Ba0dBMVVFQmhNQ1ZWTXdIaGNOTVRjd01qSXlNakl5TXpJeVdoY05Nekl3TWpFNE1EQXdNREF3V2pCeU1TWXdKQVlEVlFRRERCMUJjSEJzWlNCVGVYTjBaVzBnU1c1MFpXZHlZWFJwYjI0Z1EwRWdOREVtTUNRR0ExVUVDd3dkUVhCd2JHVWdRMlZ5ZEdsbWFXTmhkR2x2YmlCQmRYUm9iM0pwZEhreEV6QVJCZ05WQkFvTUNrRndjR3hsSUVsdVl5NHhDekFKQmdOVkJBWVRBbFZUTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFQm11a1ZtOTlueWZSemphT2todFd6VlEyWkVySmxHaVorc2tnZnVMMVdBL2M0bXJyR1Vjdkx1ODdwQUcwQVJORWZGb21yYUNjS1NXSzVlWUdiMDk4V3FPQjl6Q0I5REFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQjhHQTFVZEl3UVlNQmFBRkx1dzNxRllNNGlhcElxWjNyNjk2Ni9heXlTck1FWUdDQ3NHQVFVRkJ3RUJCRG93T0RBMkJnZ3JCZ0VGQlFjd0FZWXFhSFIwY0RvdkwyOWpjM0F1WVhCd2JHVXVZMjl0TDI5amMzQXdNeTFoY0hCc1pYSnZiM1JqWVdjek1EY0dBMVVkSHdRd01DNHdMS0Fxb0NpR0ptaDBkSEE2THk5amNtd3VZWEJ3YkdVdVkyOXRMMkZ3Y0d4bGNtOXZkR05oWnpNdVkzSnNNQjBHQTFVZERnUVdCQlI2UjdvNGloVWtTQ0pHemI2UEdpUjdOQU1xYVRBT0JnTlZIUThCQWY4RUJBTUNBUVl3RUFZS0tvWklodmRqWkFZQ0VRUUNCUUF3Q2dZSUtvWkl6ajBFQXdNRFp3QXdaQUl3RlF5cGpzYXZsbWxycDUvZFhOUURXV3l1VXRSZ3hvdDI0TGZGb3ZFSmZPQ2E0MnV4NDN3eHhDZDZwNDZKL2F0M0FqQmhNeUR4S2YvNWh6S3VLY2hrUFhaN1VhVFNBaTkydm1BaWtmSFZPblhjdE9MR0twYit4Z25jU2svVkpQRDh5ckl3Z2dNSE1JSUNyYUFEQWdFQ0FnaGVHTDF1cEhkQXdEQUtCZ2dxaGtqT1BRUURBakJ5TVNZd0pBWURWUVFEREIxQmNIQnNaU0JUZVhOMFpXMGdTVzUwWldkeVlYUnBiMjRnUTBFZ05ERW1NQ1FHQTFVRUN3d2RRWEJ3YkdVZ1EyVnlkR2xtYVdOaGRHbHZiaUJCZFhSb2IzSnBkSGt4RXpBUkJnTlZCQW9NQ2tGd2NHeGxJRWx1WXk0eEN6QUpCZ05WQkFZVEFsVlRNQjRYRFRJeU1EVXhPVEU1TkRjeU5Gb1hEVEkyTURZeE56RTVORGN5TTFvd1RqRXFNQ2dHQTFVRUF3d2hWMWRFVWlCUWNtOTJhWE5wYjI1cGJtY2dVSEp2Wm1sc1pTQlRhV2R1YVc1bk1STXdFUVlEVlFRS0RBcEJjSEJzWlNCSmJtTXVNUXN3Q1FZRFZRUUdFd0pWVXpCWk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQlA3ZFBsMFRJeHcxM2U4SUh0NWNoWGg4L2FwY3dJRlBzU20vZU10UTFKa2o2UFNXVE1abm9rZm5ScHBQVHBoUEpzY0Qzamk2a3BwMGdaUXNtNG9lMHhPamdnRlBNSUlCU3pBTUJnTlZIUk1CQWY4RUFqQUFNQjhHQTFVZEl3UVlNQmFBRkhwSHVqaUtGU1JJSWtiTnZvOGFKSHMwQXlwcE1FRUdDQ3NHQVFVRkJ3RUJCRFV3TXpBeEJnZ3JCZ0VGQlFjd0FZWWxhSFIwY0RvdkwyOWpjM0F1WVhCd2JHVXVZMjl0TDI5amMzQXdNeTFoYzJsallUUXdNekNCbGdZRFZSMGdCSUdPTUlHTE1JR0lCZ2txaGtpRzkyTmtCUUV3ZXpCNUJnZ3JCZ0VGQlFjQ0FqQnRER3RVYUdseklHTmxjblJwWm1sallYUmxJR2x6SUhSdklHSmxJSFZ6WldRZ1pYaGpiSFZ6YVhabGJIa2dabTl5SUdaMWJtTjBhVzl1Y3lCcGJuUmxjbTVoYkNCMGJ5QkJjSEJzWlNCUWNtOWtkV04wY3lCaGJtUXZiM0lnUVhCd2JHVWdjSEp2WTJWemMyVnpMakFkQmdOVkhRNEVGZ1FVRHVIUm13blFibk1Hb2FRYkZ2UU1IVFVnQWVZd0RnWURWUjBQQVFIL0JBUURBZ2VBTUE4R0NTcUdTSWIzWTJRTUV3UUNCUUF3Q2dZSUtvWkl6ajBFQXdJRFNBQXdSUUlnZU5CZ1BPVDFLaUhtcUVhUjJseHhqM2k4MXFBSk81NkdOck5sTy9ka0ZsOENJUUQxZDZJRW0wNU0wQ0RWTHhoUzNiblZBQzl0ZzRJVE9NSWZCSnA3MkNlRVZER0NBZGN3Z2dIVEFnRUJNSDR3Y2pFbU1DUUdBMVVFQXd3ZFFYQndiR1VnVTNsemRHVnRJRWx1ZEdWbmNtRjBhVzl1SUVOQklEUXhKakFrQmdOVkJBc01IVUZ3Y0d4bElFTmxjblJwWm1sallYUnBiMjRnUVhWMGFHOXlhWFI1TVJNd0VRWURWUVFLREFwQmNIQnNaU0JKYm1NdU1Rc3dDUVlEVlFRR0V3SlZVd0lJWGhpOWJxUjNRTUF3RFFZSllJWklBV1VEQkFJQkJRQ2dnZWt3R0FZSktvWklodmNOQVFrRE1Rc0dDU3FHU0liM0RRRUhBVEFjQmdrcWhraUc5dzBCQ1FVeER4Y05Nak13TlRBME1EUTFOREk0V2pBcUJna3Foa2lHOXcwQkNUUXhIVEFiTUEwR0NXQ0dTQUZsQXdRQ0FRVUFvUW9HQ0NxR1NNNDlCQU1DTUM4R0NTcUdTSWIzRFFFSkJERWlCQ0F4MnJsTVBWNkhYZDR1cm5mQklibjlBdFdNMklFc0E3MUJQcUlWTVZNenF6QlNCZ2txaGtpRzl3MEJDUTh4UlRCRE1Bb0dDQ3FHU0liM0RRTUhNQTRHQ0NxR1NJYjNEUU1DQWdJQWdEQU5CZ2dxaGtpRzl3MERBZ0lCUURBSEJnVXJEZ01DQnpBTkJnZ3Foa2lHOXcwREFnSUJLREFLQmdncWhrak9QUVFEQWdSSE1FVUNJRE0rZGMvQnllRlE0ampZdGkwR1VhNVpNNUd1SERVUGFBT0pCY2lodDM5YkFpRUFodkFxVFd6ZzgrS1VWbXc5dE5RekxHbDNpWjI5dzJqNVNleUVvZTJzL0RJPTwvZGF0YT4KCQkJCQkJCQkJCQkJCQkKCTxrZXk+RW50aXRsZW1lbnRzPC9rZXk+Cgk8ZGljdD4KCQkJCQoJCQkJPGtleT5jb20uYXBwbGUuZGV2ZWxvcGVyLm5ldHdvcmtpbmcud2lmaS1pbmZvPC9rZXk+CgkJPHRydWUvPgoJCQkJCgkJCQk8a2V5PmNvbS5hcHBsZS5kZXZlbG9wZXIuYXNzb2NpYXRlZC1kb21haW5zPC9rZXk+CgkJPHN0cmluZz4qPC9zdHJpbmc+CgkJCQkKCQkJCTxrZXk+YXBwbGljYXRpb24taWRlbnRpZmllcjwva2V5PgoJCTxzdHJpbmc+R1pHMlM0N1dITS5jb20uZXhhbXBsZS5mbHV0dGVyQm9pbGVycGxhdGVBcHBGb3JUZXN0MDAxPC9zdHJpbmc+CgkJCQkKCQkJCTxrZXk+a2V5Y2hhaW4tYWNjZXNzLWdyb3Vwczwva2V5PgoJCTxhcnJheT4KCQkJCTxzdHJpbmc+R1pHMlM0N1dITS4qPC9zdHJpbmc+CgkJCQk8c3RyaW5nPmNvbS5hcHBsZS50b2tlbjwvc3RyaW5nPgoJCTwvYXJyYXk+CgkJCQkKCQkJCTxrZXk+Z2V0LXRhc2stYWxsb3c8L2tleT4KCQk8ZmFsc2UvPgoJCQkJCgkJCQk8a2V5PmNvbS5hcHBsZS5kZXZlbG9wZXIudGVhbS1pZGVudGlmaWVyPC9rZXk+CgkJPHN0cmluZz5HWkcyUzQ3V0hNPC9zdHJpbmc+CgkJCQkKCQkJCTxrZXk+Y29tLmFwcGxlLmRldmVsb3Blci51c2Vybm90aWZpY2F0aW9ucy5jb21tdW5pY2F0aW9uPC9rZXk+CgkJPHRydWUvPgoKCTwvZGljdD4KCTxrZXk+RXhwaXJhdGlvbkRhdGU8L2tleT4KCTxkYXRlPjIwMjQtMDUtMDNUMDI6MDQ6MzFaPC9kYXRlPgoJ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
          KEYCHAIN_PASSWORD: 0
        run: |
          # create variables
          CERTIFICATE_PATH=$RUNNER_TEMP/build_certificate.p12
          PP_PATH=$RUNNER_TEMP/build_pp.mobileprovision
          KEYCHAIN_PATH=$RUNNER_TEMP/app-signing.keychain-db

          # import certificate and provisioning profile from secrets
          echo -n "$BUILD_CERTIFICATE_BASE64" | base64 --decode -o $CERTIFICATE_PATH
          echo -n "$BUILD_PROVISION_PROFILE_BASE64" | base64 --decode -o $PP_PATH

          # create temporary keychain
          security create-keychain -p "$KEYCHAIN_PASSWORD" $KEYCHAIN_PATH
          security set-keychain-settings -lut 21600 $KEYCHAIN_PATH
          security unlock-keychain -p "$KEYCHAIN_PASSWORD" $KEYCHAIN_PATH

          # import certificate to keychain
          security import $CERTIFICATE_PATH -P "$P12_PASSWORD" -A -t cert -f pkcs12 -k $KEYCHAIN_PATH
          security list-keychain -d user -s $KEYCHAIN_PATH

          # apply provisioning profile
          mkdir -p ~/Library/MobileDevice/Provisioning\ Profiles
          cp $PP_PATH ~/Library/MobileDevice/Provisioning\ Profiles

      - name: Use keychain profile
        run: |
          pip3 install codemagic-cli-tools
          xcode-project use-profiles

      - name: Building archive
        run: flutter build ios --release --no-codesign
      - name: Building IPA
        run: xcode-project build-ipa --workspace ios/Runner.xcworkspace --scheme Runner --config Release
      - name: Update iOS ipa to Pgyer
        run: curl -F "file=@build/ios/ipa/flutter_boilerplate_app.ipa" -F "uKey=77795d4fbdcc66711f199b1d4d87d50e" -F "_api_key=79fdd1bffed67da4ade389c32f866eba" https://upload.pgyer.com/apiv1/app/upload
      - name: Clean up keychain and provisioning profile
        if: ${{ always() }}
        run: |
          security delete-keychain $RUNNER_TEMP/app-signing.keychain-db
          rm ~/Library/MobileDevice/Provisioning\ Profiles/build_pp.mobileprovision
